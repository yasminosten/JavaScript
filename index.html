<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
</head>
<body>
    
<script>

    let shoppingCart = [
  {
    name:"loaf of bread",
    type:"food",
    quantity:1,
    price:.85
  },
  { 
    name:"multipack beans",
    type:"food",
    quantity:1,
    price:1
},
{ 
  name:"mushrooms",
  type:"food",
  quantity:10,
  price:.1
},
{
  name:"can of beer",
  type:"alcohol",
  quantity:4,
  price:1.1
},
{
  name:"prosecco",
  type:"alcohol",
  quantity:1,
  price:8.99
},
{
  name:"steak",
  type:"food",
  quantity:2,
  price:3.99
},
{
  name:"blue cheese",
  type:"food",
  quantity:1,
  price:2.99
},
{
  name:"candles",
  type:"home",
  quantity:3,
  price:1.99
},
{ 
  name:"cheesecake",
  type:"food",
  quantity:1,
  price:4.99
},
{ 
  name:"onions",
  type:"food",
  quantity:3,
  price:.4
}];

function shoppingCartTotalPrice( array ) {
    let totalPrice = 0;

    for ( let index = 0; index < array.length; index++ ) {

         totalPrice = totalPrice + ( array[index].price * array[index].quantity )

    }

    return totalPrice.toFixed(2); //39.37 - .toFixed lets you specift how many numbers show after the decimal place
}

console.log( '£' + shoppingCartTotalPrice (shoppingCart) );

// discount

function discountForFood (array) {

    let totalPrice = 0;

        for ( let index = 0; index < array.length; index++ ) {

            if (array[ index ].type === 'food') {
                
                let discount = (array[index].price * 20) / 100;

                totalPrice = totalPrice + (array[index].price - discount) * array[index].quantity;

            } else if(array[ index ].type === 'home') {

                let discount = (array[index].price * 5) / 100;
                totalPrice = totalPrice + ( array[index].price - discount) * array[index].quantity;
                

            } else if(array[ index ].type === 'alcohol') {

                let discount = (array[index].price * 15) / 100;
                totalPrice = totalPrice + ( array[index].price - discount) * array[index].quantity;

            } else {

            totalPrice = totalPrice + ( array[index].price * array[index].quantity );
            }
        }

        return totalPrice.toFixed(2);
}

console.log( '£' + discountForFood (shoppingCart) );

</script>

</body>
</html>